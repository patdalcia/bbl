---
import { getCollection } from 'astro:content';
const placeholders = await getCollection('placeholder');
---
    <section class="sideScrollerContainer w-screen h-screen bg-green-400">
        <div class="w-[600%] h-full overscroll-none flex flex-nowrap">
            <div class="panel w-1/6 h-full bg-black flex flex-col justify-center items-center">
                <!-- <article class="prose">
                    <h1 class="text-5xl">Welcome</h1>
                <h2 class="text-4xl">Lets Make Some Sound</h2>
                <h3 class="text-3xl">At SonicCraft Productions, we breathe life into your music, transforming your visions into sonic reality. With state-of-the-art studios, cutting-edge technology, and a passion for sound that resonates, we're here to guide your music project from concept to chart-topping success.</h3>
                </article> -->
                { placeholders.map((placeholder) => {
                    return (
                        <div>
                         href={`/newsletter/${placeholder.slug}`}
                         <h1>title={placeholder.data.title}</h1>
                         body={placeholder.data.summary}
                        </div>
                        )
                    })
                }
            </div>  
            <div class="panel w-1/6 h-full bg-yellow-400 flex justify-center items-center text-blue-400">
                <div class="w-full h-full flex justify-center items-center text-white">
                    <!-- Insert Content Here -->
                    
                    <!-- Timeline START -->
                    
                    <!-- Timeline END -->
                </div>
            </div>
            <div class="panel w-1/6 h-full bg-blue-400 flex justify-center items-center text-blue-400">
                Slide 3
            </div>
            <div class="panel w-1/6 h-full bg-orange-400 flex justify-center items-center text-blue-400">
                Slide 4
            </div>
        </div>
    </section>

<script>
    import { gsap } from "gsap";
      
    import { ScrollTrigger } from "gsap/ScrollTrigger";
        
    gsap.registerPlugin(ScrollTrigger);

    let panels = gsap.utils.toArray(".panel");

    gsap.to(panels, {
        xPercent: -100 * (panels.length - 1),
        ease: "none",
        scrollTrigger: {
            trigger: ".sideScrollerContainer",
            pin: true,
            scrub: 1,
            snap: 1 / (panels.length - 1),
            // base vertical scrolling on how wide the container is so it feels more natural.
            end: "+=3500",
        }
    });
</script>

